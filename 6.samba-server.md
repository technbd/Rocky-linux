## Samba:

To configure a Linux to Windows file share, you typically use **Samba**. Samba is an open-source implementation of the SMB/CIFS protocol, enabling seamless file sharing between Linux and Windows systems. Samba lets Linux act as a file server that Windows machines can access.


### Install Samba: 

```
yum install samba samba-client samba-common -y
```


### Create a Share Directory: 

_Create a Share Directory:_
```
mkdir -p /samba/share
chown -R nobody:nobody /samba/share
chmod -R 0775 /samba/share
```

Or,

_If you want it owned by a specific user:_
```
chown -R user1:user1 /samba/share
```


#### SELinux (if enforcing):

_Allow Samba to share the directory:_
```
chcon -t samba_share_t /samba/share
```



### Create Samba User:
- `-a` : Add user to Samba password database. The Linux user must already exist.
- `-e` : Enable Samba user account (after it was added).
- `-d` : Disable a Samba user (without deleting)
- `-x` : Delete a Samba user from the database

```
useradd user1
passwd user1
```


```
smbpasswd -a user1
smbpasswd -e user1
```


### Configure Samba: 

_Share Options:_

- `path` : is the directory we are sharing. 
- `browseable` : is to allow clients to browsing access. If you want to disallow browsing set this to `no`.
- `writable` : is to allow clients writing access. If you want to allow write access, set this to `yes`.
- `read only` : marks the share as read-only. If you want to allow write or execute access, set this to `no`.
- `guest ok` : is to allow non-authenticated users access to our share. If you want to deny guests, set this to `no`.
- `valid users` : Restricts access to only this user (or group). For Multiple users `valid users = user1 user2 user3` 


```
cp /etc/samba/smb.conf /etc/samba/smb.conf.org
```


```
vim /etc/samba/smb.conf


[global]
    workgroup = SAMBA
    security = user

    passdb backend = tdbsam

    printing = cups
    printcap name = cups
    load printers = yes
    cups options = raw



### And add the following line in the end of the file: 
[myshare]   
   comment = Private Samba Share 
   path = /samba/share  
   browseable = yes
   writable = yes  
   read only = no
   guest ok = no
   valid users = user1
```


_Verify Samba Configuration:_
```
testparm
```



#### Start and Enable Samba Services: 

```
systemctl enable smb nmb
systemctl start smb nmb

systemctl status smb
```



### Access the Share from Windows:

_On a Windows client:_
```
\\<rocky-linux-ip>
```


### Access windows share from linux:  

```
smbclient -L //192.168.10.2 -U <username>
smbclient -L //192.168.10.2 -U admin
```



### License:
This project is licensed under the **MIT** License.



### Author:
- **Name:** Technbd   




This setup provides a basic, functional Samba share for Windows clients. Adjust the smb.conf parameters to fine-tune permissions as needed.


