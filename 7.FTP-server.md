## FTP Server: 
`vsftpd` (Very Secure FTP Daemon) is a fast, stable, and security-focused FTP server software for Unix-like operating systems, including Linux (such as Rocky Linux, CentOS, Ubuntu, and others). It is widely used because it emphasizes security, performance, and ease of configuration, making it suitable for both small personal servers and large-scale enterprise environments.

To configure an FTP server on Rocky Linux, you can use `vsftpd`, a lightweight and secure FTP server. Below is a step-by-step guide to set it up:


### Install vsftpd:

```
yum install vsftpd -y 
```


_Enable and Start Service:_
```
systemctl enable vsftpd
systemctl start vsftpd
systemctl status vsftpd
```


```
netstat -tlpn | grep vsftp
```


### Configure vsftpd:

```
cp /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.bak
```

_To restrict FTP users to their Home directories:_
- `chroot_local_user=YES` : means local users will be placed in a chroot jail, their home directory after login by default settings.
- `allow_writeable_chroot=YES` : And also by default, vsftpd does not allow the chroot jail directory to be writable for security reasons, however, we can use the option `allow_writeable_chroot=YES` to override this setting.



_Now, edit the `/etc/vsftpd/vsftpd.conf` file:_
```
anonymous_enable=NO             # Disable anonymous login
local_enable=YES                # Allow local users to login
write_enable=YES                # Allow file uploads or write access for local users


### Line-28: Disable anonymous uploads:
anon_upload_enable=NO
anon_mkdir_write_enable=NO


### Line-100: 
chroot_local_user=YES           # Jail users in their home directory (restrict access to the home directory)

### Add this line (end of the file): 
allow_writeable_chroot=YES      # Needed if home dir is writable


### Line-126: 
userlist_enable=YES             # enable vsftpd to load a list of usernames
```



_Restart Service:_
```
systemctl restart vsftpd
```



### Create FTP User:

```
useradd ftpuser1

passwd ftpuser1 
```



#### Create a Directory for FTP user:

```
mkdir -p /home/ftpuser1/ftp/upload

chmod 550 /home/ftpuser1/ftp

chmod 750 /home/ftpuser1/ftp/upload

chown -R ftpuser1:ftpuser1 /home/ftpuser1/ftp
```



### Limit user access (Optional):

If `userlist_deny=NO`, only users listed in `/etc/vsftpd/user_list` are allowed. If `userlist_deny=YES`, users in the list are denied. 

```
userlist_enable=YES

### Add this lines: 
userlist_file=/etc/vsftpd/user_list
userlist_deny=NO
```


_Now, add the user to the allowed FTP `/etc/vsftpd/user_list`:_
```
vim /etc/vsftpd/user_list


### add following user: 
ftpuser1
```



```
systemctl restart vsftpd
```



#### Specifying the home directory:
Here we configure FTP directories to allow upload when chroot enabled. This is the recommended method. So add following lines to `vsftpd.conf` file.

_Add these lines at the bottom:_
```
user_sub_token=$USER
local_root=/home/$USER/ftp/
```




### Troubleshooting:

```
journalctl -f -u vsftpd
```



### Author:
- **Name:** Technbd   


### License:
This project is licensed under the **MIT** License.



